<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste BotÃµes - Minhas Cartelas</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background-color: #f0f0f0;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .btn-teste {
            background: #e74c3c;
            color: white;
            border: none;
            padding: 15px 25px;
            margin: 10px;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            transition: background 0.3s;
        }
        .btn-teste:hover {
            background: #c0392b;
        }
        .status {
            background: #ecf0f1;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #3498db;
        }
        .alert {
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            display: none;
        }
        .alert-success { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .alert-error { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
        .alert-warning { background: #fff3cd; color: #856404; border: 1px solid #ffeaa7; }
        .alert-info { background: #d1ecf1; color: #0c5460; border: 1px solid #bee5eb; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ§ª Teste dos BotÃµes - Minhas Cartelas</h1>
        
        <div class="status">
            <h3>ğŸ“Š Status do Sistema</h3>
            <p><strong>Cartelas carregadas:</strong> <span id="status-cartelas">0</span></p>
            <p><strong>NÃºmeros sorteados:</strong> <span id="status-sorteados">0</span></p>
            <p><strong>Comprador logado:</strong> <span id="status-comprador">Nenhum</span></p>
        </div>

        <div style="text-align: center;">
            <h3>ğŸ¯ Teste dos BotÃµes de AÃ§Ã£o</h3>
            
            <button onclick="testarFuncaoMarcar()" class="btn-teste">
                ğŸ§ª Testar: Marcar Todos os Sorteados
            </button>
            
            <button onclick="testarFuncaoLimpar()" class="btn-teste">
                ğŸ§ª Testar: Limpar MarcaÃ§Ãµes
            </button>
            
            <button onclick="testarFuncaoBingo()" class="btn-teste">
                ğŸ§ª Testar: Verificar BINGO
            </button>
            
            <br><br>
            
            <button onclick="simularDados()" class="btn-teste" style="background: #27ae60;">
                ğŸ² Simular Dados de Teste
            </button>
            
            <button onclick="verificarFuncoes()" class="btn-teste" style="background: #f39c12;">
                ğŸ” Verificar FunÃ§Ãµes DisponÃ­veis
            </button>
        </div>

        <!-- Alert de mensagens -->
        <div id="alert-msg" class="alert">
            <span class="alert-message">Mensagem</span>
        </div>

        <div class="status" style="margin-top: 30px;">
            <h3>ğŸ“ Log de Resultados</h3>
            <div id="log-resultados" style="background: #2c3e50; color: #ecf0f1; padding: 15px; border-radius: 5px; font-family: monospace; max-height: 300px; overflow-y: auto;">
                Aguardando testes...
            </div>
        </div>
    </div>

    <!-- Incluir o script das cartelas -->
    <script src="minhas-cartelas.js"></script>
    
    <script>
        // FunÃ§Ãµes de teste
        function log(mensagem) {
            const logDiv = document.getElementById('log-resultados');
            const timestamp = new Date().toLocaleTimeString();
            logDiv.innerHTML += `<br>[${timestamp}] ${mensagem}`;
            logDiv.scrollTop = logDiv.scrollHeight;
            console.log(`[TESTE] ${mensagem}`);
        }

        function atualizarStatus() {
            document.getElementById('status-cartelas').textContent = cartelasComprador ? cartelasComprador.length : 0;
            document.getElementById('status-sorteados').textContent = numerosSorteados ? numerosSorteados.length : 0;
            document.getElementById('status-comprador').textContent = compradorAtual ? 
                (compradorAtual.nome || 'Logado sem nome') : 'Nenhum';
        }

        function simularDados() {
            // Simular dados de teste
            window.compradorAtual = {
                nome: 'JoÃ£o Teste',
                telefone: '11999999999',
                email: 'joao@teste.com'
            };
            
            window.cartelasComprador = [
                {
                    id: 'teste-001',
                    numeros: [1, 16, 31, 46, 61, 2, 17, 32, 47, 62, 3, 18, 48, 63, 4, 19, 33, 49, 64, 5, 20, 34, 50, 65],
                    preco: 25.00
                },
                {
                    id: 'teste-002', 
                    numeros: [6, 21, 36, 51, 66, 7, 22, 37, 52, 67, 8, 23, 53, 68, 9, 24, 38, 54, 69, 10, 25, 39, 55, 70],
                    preco: 25.00
                }
            ];
            
            window.numerosSorteados = [1, 16, 31, 46, 61, 2, 17, 32, 47, 62, 3, 18, 48];
            
            window.marcacoes = {};
            
            atualizarStatus();
            log('âœ… Dados de teste simulados com sucesso!');
            log(`ğŸ“Š ${cartelasComprador.length} cartelas carregadas`);
            log(`ğŸ² ${numerosSorteados.length} nÃºmeros sorteados: ${numerosSorteados.join(', ')}`);
        }

        function verificarFuncoes() {
            log('ğŸ” Verificando funÃ§Ãµes disponÃ­veis...');
            
            const funcoes = [
                'marcarTodosNumeros',
                'limparMarcacoes', 
                'verificarBingo',
                'fecharModalBingo',
                'mostrarAlerta'
            ];
            
            funcoes.forEach(nome => {
                const existe = typeof window[nome] === 'function';
                log(`${existe ? 'âœ…' : 'âŒ'} ${nome}: ${existe ? 'DisponÃ­vel' : 'NÃ£o encontrada'}`);
            });
            
            // Verificar variÃ¡veis globais
            const variaveis = [
                'compradorAtual',
                'cartelasComprador',
                'numerosSorteados',
                'marcacoes'
            ];
            
            log('ğŸ” Verificando variÃ¡veis globais...');
            variaveis.forEach(nome => {
                const existe = typeof window[nome] !== 'undefined';
                log(`${existe ? 'âœ…' : 'âŒ'} ${nome}: ${existe ? 'Definida' : 'NÃ£o definida'}`);
            });
        }

        function testarFuncaoMarcar() {
            log('ğŸ§ª Testando funÃ§Ã£o marcarTodosNumeros()...');
            
            if (typeof marcarTodosNumeros === 'function') {
                try {
                    marcarTodosNumeros();
                    log('âœ… FunÃ§Ã£o marcarTodosNumeros() executada com sucesso!');
                } catch (error) {
                    log(`âŒ Erro ao executar marcarTodosNumeros(): ${error.message}`);
                }
            } else {
                log('âŒ FunÃ§Ã£o marcarTodosNumeros() nÃ£o estÃ¡ disponÃ­vel!');
            }
        }

        function testarFuncaoLimpar() {
            log('ğŸ§ª Testando funÃ§Ã£o limparMarcacoes()...');
            
            if (typeof limparMarcacoes === 'function') {
                try {
                    limparMarcacoes();
                    log('âœ… FunÃ§Ã£o limparMarcacoes() executada com sucesso!');
                } catch (error) {
                    log(`âŒ Erro ao executar limparMarcacoes(): ${error.message}`);
                }
            } else {
                log('âŒ FunÃ§Ã£o limparMarcacoes() nÃ£o estÃ¡ disponÃ­vel!');
            }
        }

        function testarFuncaoBingo() {
            log('ğŸ§ª Testando funÃ§Ã£o verificarBingo()...');
            
            if (typeof verificarBingo === 'function') {
                try {
                    verificarBingo();
                    log('âœ… FunÃ§Ã£o verificarBingo() executada com sucesso!');
                } catch (error) {
                    log(`âŒ Erro ao executar verificarBingo(): ${error.message}`);
                }
            } else {
                log('âŒ FunÃ§Ã£o verificarBingo() nÃ£o estÃ¡ disponÃ­vel!');
            }
        }

        // InicializaÃ§Ã£o
        document.addEventListener('DOMContentLoaded', () => {
            log('ğŸš€ PÃ¡gina de teste carregada!');
            setTimeout(() => {
                verificarFuncoes();
                atualizarStatus();
            }, 1000);
        });
    </script>
</body>
</html>
